const timeSlots = ["10:00", "11:00", "11:30", "12:00", "13:00", "13:30", "14:00", "15:00", "15:30", "16:00", "17:00", "17:30", "18:00", "19:00", "20:00"];

function loadSchedule() {
    const scheduleContainer = document.getElementById("schedule-container");
    scheduleContainer.innerHTML = "";
    
    timeSlots.forEach(slot => {
        const div = document.createElement("div");
        div.classList.add("time-slot");
        
        div.innerHTML = `
            <label for="${slot}">${slot}</label>
            <input type="text" id="name-${slot}" placeholder="Nome" style="width: 150px;">
            <input type="checkbox" id="${slot}" name="timeSlot">
        `;
        
        scheduleContainer.appendChild(div);
    });
}

function confirmAppointment() {
    let selectedAppointments = [];
    timeSlots.forEach(slot => {
        const checkbox = document.getElementById(slot);
        const nameInput = document.getElementById(`name-${slot}`); // Corrigido
        if (checkbox.checked && nameInput.value.trim() !== "") {
            selectedAppointments.push(`${slot} - ${nameInput.value}`); // Corrigido
        }
    });
    
    if (selectedAppointments.length === 0) {
        alert("Por favor, selecione um hor√°rio e insira um nome.");
        return;
    }
    
    let appointmentDate = document.getElementById("appointment-date").value;
    if (!appointmentDate) {
        alert("Por favor, selecione uma data.");
        return;
    }
    
    let message = `Agendamentos para ${appointmentDate}:\n${selectedAppointments.join("\n")}`; // Corrigido
    let whatsappUrl = `https://wa.me/5511932184626?text=${encodeURIComponent(message)}`;
    window.open(whatsappUrl, "_blank");
}

document.getElementById("appointment-date").addEventListener("change", loadSchedule);
window.onload = loadSchedule;
